let mTimeout,$carousels;function setVH(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),window.innerWidth>1200&&document.querySelector("form.card")&&document.querySelector("form.card").classList.remove("open"),window.innerWidth>992&&(document.querySelector(".menu").classList.remove("opens"),document.querySelector(".menu").classList.add("menu-hidden"),document.querySelector(".menup").setAttribute("aria-label","Abrir menú"),document.querySelector("#shadow").classList.remove("show"),p=document.querySelector(".nav-float"),p&&document.querySelector(".nav-float").classList.remove("show"),document.body.classList.remove("noscroll"),document.querySelector(".main").classList.remove("open"),shad=document.getElementById("overls"),shad&&document.getElementById("overls").remove())}document.querySelectorAll(".btn-filter").forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".filter").classList.toggle("open"),document.querySelector(".main").classList.toggle("open"),document.querySelector("body").classList.toggle("noscroll")})}),document.querySelectorAll(".menu-btnb").length>0&&(document.querySelector(".menu-btnb").addEventListener("click",e=>{document.body.classList.toggle("noscroll");let t=document.querySelector(".menu"),o=t.classList.toggle("open");o?(t.classList.remove("menu-hidden"),clearTimeout(mTimeout)):mTimeout=setTimeout(()=>{t.classList.add("menu-hidden")},200),document.querySelector(".menu-btnb").setAttribute("aria-label",o?"Cerrar menú":"Abrir menú")}),window.addEventListener("resize",e=>{window.innerWidth>992&&(document.querySelector(".menu").classList.remove("open"),document.querySelector(".menu").classList.add("menu-hidden"),document.querySelector(".main").classList.remove("open"),document.querySelector(".toggle-read-more").nextElementSibling.classList.remove("hidden"),document.querySelector(".menu-btn").classList.remove("active"),document.querySelector(".menu-btn").setAttribute("aria-label","Abrir menú"),document.querySelector("#shadow").classList.remove("show"),p=document.querySelector(".nav-float"),document.body.classList.remove("noscroll"),shad=document.getElementById("overls"),shad&&document.getElementById("overls").remove())})),document.querySelectorAll(".submenu-btn").length>0&&(document.querySelector(".submenu-btn").addEventListener("click",e=>{document.body.classList.toggle("noscroll");let t=document.querySelector(".menu"),o=t.classList.toggle("open");o?(t.classList.remove("menu-hidden"),clearTimeout(mTimeout)):mTimeout=setTimeout(()=>{t.classList.add("menu-hidden")},200),document.querySelector(".submenu-btn").setAttribute("aria-label",o?"Cerrar menú":"Abrir menú")}),window.addEventListener("resize",e=>{window.innerWidth>992&&(document.querySelector(".menu").classList.remove("open"),document.querySelector(".menu").classList.add("menu-hidden"),document.querySelector(".menu-btn").classList.remove("active"),document.querySelector(".menu-btn").setAttribute("aria-label","Abrir menú"),document.querySelector("#shadow").classList.remove("show"),p&&document.querySelector(".nav-float").classList.remove("show"),document.body.classList.remove("noscroll"))})),window.addEventListener("resize",e=>{setVH(),new Blazy}),setVH();for(var links=document.getElementsByTagName("a"),i=0;i<links.length;i++){var a=links[i];!a.href||-1==a.href.indexOf("#")||a.pathname!=location.pathname&&"/"+a.pathname!=location.pathname||a.search!=location.search||""!==a.hash&&a.addEventListener("click",scrollListener)}function scrollListener(){event.preventDefault(),scrollIt(document.querySelector(this.hash),500,"easeOutQuad"),document.querySelector(".menu").classList.remove("open"),document.querySelector("body").classList.remove("noscroll")}function scrollIt(e,t=200,o="linear",n){const s={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},i=window.pageYOffset,r="now"in window.performance?performance.now():(new Date).getTime(),a=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),l=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,c="number"==typeof e?e:e.offsetTop-120,d=Math.round(a-c<l?a-l:c);if("requestAnimationFrame"in window==0)return window.scroll(0,d),void(n&&n());!function e(){const a="now"in window.performance?performance.now():(new Date).getTime(),l=Math.min(1,(a-r)/t),c=s[o](l);window.scroll(0,Math.ceil(c*(d-i)+i)),1!=l&&(window.pageYOffset!==d?requestAnimationFrame(e):n&&n())}()}function elementInViewport(e){for(var t=e.offsetTop,o=e.offsetLeft,n=e.offsetWidth,s=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&o<window.pageXOffset+window.innerWidth&&t+s>window.pageYOffset&&o+n>window.pageXOffset}var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}function onTouchStart(e){e.preventDefault()}document.addEventListener("touchstart",onTouchStart,!!supportsPassive&&{passive:!0}),Array.from(document.querySelectorAll("label[tabindex='0']")).forEach((function(e){e.addEventListener("keydown",(function(e){"Enter"==e.key&&this.click()}))}));let selects=[];function setChoices(){let e={itemSelectText:"Presiona para seleccionar",noChoicesText:"Sin resultados",noResultsText:"Sin resultados",searchEnabled:!0,loadingText:"Cargando",shouldSort:!1,maxItemText:e=>`Selecciona mÃƒÂ¡ximo ${e} opciones`,addItemText:e=>`Presiona Enter para agregar <b>${e}</b>`,callbackOnInit:function(){this.containerOuter.element.setAttribute("aria-label",this.config.placeholder)}};Array.from(document.querySelectorAll(".choice")).map(t=>{let o=Object.fromEntries(Object.entries(t.dataset));new Choices(t,{...e,...o})})}window.onload=()=>{setSticky(),document.querySelectorAll(".b-lazy").length>0&&new Blazy;let e=document.querySelector(".loader");e?(setTimeout(()=>{e.classList.add("loader-gone")},1500),setTimeout(()=>{e.remove(),document.getElementById("loadLoader").value=1,document.body.classList.remove("noscroll"),new Blazy,setRunListener(300)},3e3)):setRunListener(1500),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&navigator.maxTouchPoints,document.querySelectorAll(".choice").length>0&&setChoices();let t=window.location.pathname.replace(/\/+$/,"");if(t="/"==t[0]?t.substr(1):t,null!=new URLSearchParams(window.location.search).get("slug")){let e=$(".owl-carousel1").find("a[class='selectedreco']").index()-1;$(".owl-carousel1").trigger("to.owl.carousel",e),$root.animate({scrollTop:$("#nrecomendacion").offset().top+20},500)}window.innerWidth<=768?document.querySelectorAll(".filter-body .accordion").forEach((e,t)=>{t>0&&e.classList.remove("open")}):document.querySelectorAll(".filter-body .accordion").forEach(e=>{e.classList.add("open")})};let header=document.querySelector("header"),formulario=document.querySelector("#formulario"),formulariobody=document.querySelector("#formulario-body"),btop=document.querySelector("#backtop"),float=document.querySelector(".nav-float");var backscroll,bad=!0;function setSticky(){backscroll>window.pageYOffset?0==$("#mtop").length&&header.classList.add("sticky"):header.classList.remove("sticky"),backscroll=window.pageYOffset}function ShowForm(){let e=document.querySelector("#formulario"),t=document.querySelector("#formulario-body");e.classList.add("show"),float.classList.remove("show"),t.classList.add("grid"),t.classList.add("grid-padding"),e.classList.remove("xxl5"),e.classList.remove("xs-end");let o=document.getElementById("tiposV"),n=document.createElement("input");n.id="uno",n.className="form-input",o.insertBefore(n,o.childNodes[3])}function removeCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function setCookie(e,t="loaded",o=20){let n=new Date;n.setDate(n.getDate()+o),document.cookie=`${e}=${t};expires=${n.toGMTString()}`}function isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function setRunListener(e){setTimeout(()=>{Array.from(document.querySelectorAll("[run]")).map(e=>{isInViewport(e)?(e.classList.add("run"),e.removeAttribute("run")):document.addEventListener("scroll",(function t(){isInViewport(e)&&(e.classList.add("run"),document.removeEventListener("scroll",t))}))}),Array.from(document.querySelectorAll("[runtop]")).map(e=>{isInViewportTop(e)?(e.classList.add("run"),e.removeAttribute("runtop")):document.addEventListener("scroll",(function t(){isInViewportTop(e)&&(e.classList.add("run"),document.removeEventListener("scroll",t))}))})},e)}function isInViewportTop(e){const t=e.getBoundingClientRect();return t.y<(window.innerHeight||document.documentElement.clientHeight)&&t.y>0}function showAlert(e,t="success",o=3e3,n="",s=""){document.querySelectorAll(".alert:not(.cookies)").forEach(e=>{e.remove()});let i="message"+Date.now(),r=document.createElement("div"),a="",l=document.createElement("span");if("success"==t&&(a=document.createElement("i"),a.classList.add("i-check"),l.appendChild(a)),r.setAttribute("id",i),r.classList.add("alert",t),l.textContent=e,r.appendChild(l),document.body.appendChild(r),0==o){let e=document.createElement("button");e.classList.add("alert-close","i-x"),e.setAttribute("aria-label","Cerrar mensaje"),r.appendChild(e),e.addEventListener("click",()=>{r.classList.add("hide"),setTimeout(()=>{r.remove()},1e3)})}if(""!=n){let e=document.createElement(""==s?"button":"a");e.classList.add("btn","btn-border-light"),e.innerHTML=n,""!=s&&e.setAttribute("href",s),r.appendChild(e),""==s&&e.addEventListener("click",()=>{r.classList.add("hide"),setTimeout(()=>{r.remove()},1e3)})}o>0&&(setTimeout(()=>{r.classList.add("hide")},o),setTimeout(()=>{r.remove()},o+1e3))}function openModal(e){$("#"+e).addClass("open"),$("#"+e+" img.b-lazy:not(.b-loaded)").length>0&&new Blazy,$("#"+e+" video").length>0&&$("#"+e+" video")[0].play(),$("#"+e+" .modal-title").focus(),$("body,html").addClass("noscroll"),document.body.addEventListener("keydown",t=>modalEscape(t,e))}function modalEscape(e,t){"Escape"==e.key&&closeModal(t)}function closeModal(e){$("#"+e).removeClass("open"),$("body,html").removeClass("noscroll"),$("#"+e+" video").length>0&&$("#"+e+" video")[0].pause(),document.body.removeEventListener("keydown",modalEscape),"formStep"==e&&$("#"+e+" fieldset").each((function(t,o){o.classList.contains("step-end")&&(o.classList.remove("step-end"),elV=o.id.split("fstep")[1],"1"==elV&&(o.innerHTML='<legend>Quitamos el freno de mano 🚗</legend> <p class="modal-descrip">Ayúdanos con las siguientes preguntas...</p> <div class="field-content"> <div class="steps">1/4</div><div class="form-subtype" data-step="1"> <div class="xs12">¿Tu compra es en Nuevo León?</div><div class="row"><div class="radio"><input id="eresSi" type="radio" name="eresNL" value="Si" checked=""> <label class="radio-label" for="eresSi">Si</label></div><div class="radio"><input id="eresNo" type="radio" name="eresNL" value="No"><label class="radio-label" for="eresNo">No</label></div></div></div></div><button class="btn btn-accent action-button" type="button" onclick="sigRem(this)" name="next">Continuar</button>'),"2"==elV&&(o.innerHTML=' <legend>Quitamos el freno de mano 🚗</legend><p class="modal-descrip">Ayúdanos con las siguientes preguntas...</p><div class="field-content"><div class="steps">2/4</div><div class="form-subtype" data-step="2"><div class="xs12">¿Tu historíal de crédito es bueno?</div><div class="row"><div class="radio"><input id="historialSi" type="radio" name="historial" value="Si" checked=""><label class="radio-label" for="historialSi">Si</label></div><div class="radio"><input id="historialNo" type="radio" name="historial" value="No"><label class="radio-label" for="historialNo">No</label></div></div></div></div> <button class="btn btn-accent action-button" onclick="sigRem(this)" type="button" name="next">Continuar</button>',$("#"+e+" fieldset").each((function(e,t){t.display="",console.log(""+t.display)}))),elV>2&&$("#"+e+" fieldset").each((function(e,t){t.display=""})))}))}function sigRem(e){current_fs=$(e).parent(),next_fs=$(e).parent().next(),step=current_fs.find(".form-subtype").data().step,1==step||2==step?"Si"==current_fs.find("input[name=eresNL]:checked").val()||"Si"==current_fs.find("input[name=historial]:checked").val()?(next_fs.show(),current_fs.hide()):(current_fs.html(""),$("#fstep"+step).addClass("step-end"),$("#fstep"+step).append("<legend>Gracias por tu interés</legend><p class='step-end-text'>Lo siento, pero lamentablemente no podemos proceder con la compra ya que no resides en Nuevo León, que es donde ofrecemos este servicio exclusivo.</p><div class='step-end-content'>Te invitamos a conocer nuestro <span>Análisis Personalizado</span> donde podrás [beneficio].<img src='https://my-app.mx/test/my-carn/images/form-end.webp'></div>")):(next_fs.show(),current_fs.hide())}function stringToDecimal(e=""){return null!=e&&""!=e||(e="0"),parseFloat(e.toString().replace(/\$/g,"").replace(/,/g,""))}function numberToMoney(e,t=2,o=""){return`${o}${e.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`}function setMoney(){Array.from(document.querySelectorAll(".money")).forEach((function(e){let t=stringToDecimal(e.value||"0"),o=numberToMoney(t),n=stringToDecimal(e.getAttribute("minvalue")||"0");e.value=0==o&&e.getAttribute("validnull")?"":o;let s=stringToDecimal(e.getAttribute("maxvalue")||"0");e.addEventListener("change",(function(i){t=stringToDecimal(e.value||"0"),o=numberToMoney(t),n=stringToDecimal(e.getAttribute("minvalue")||"0"),e.value=0==o&&e.getAttribute("validnull")?"":o,s=stringToDecimal(e.getAttribute("maxvalue")||"0");let r=stringToDecimal(e.value);t=isNaN(r)?t:r,t<n&&(t=n),s>0&&t>s&&(t=s),o=numberToMoney(t),e.value=o<n?n:o}));let i=stringToDecimal(e.getAttribute("step"))||1e3;e.addEventListener("keydown",(function(t){if(n=stringToDecimal(e.getAttribute("minvalue")||"0"),s=stringToDecimal(e.getAttribute("maxvalue")||"0"),"ArrowUp"==t.key||"ArrowDown"==t.key){let o=stringToDecimal(e.value);"ArrowUp"==t.key?(o+=i,o<n&&(o=n),s>0&&o>s&&(o=s)):"ArrowDown"==t.key&&(o=o-i<n?n:o-i),o=numberToMoney(o),e.value=o}}))}))}window.onscroll=()=>document.querySelectorAll(".btn-compare").forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".compare").classList.toggle("open")})}),document.querySelectorAll(".filters-button").forEach(e=>{e.addEventListener("click",e=>{e.target.classList.toggle("open"),e.target.parentElement.nextElementSibling.classList.toggle("open")})}),$("[modal]").click((function(){openModal($(this).attr("modal"))})),$(".modal").click((function(e){($(e.target).hasClass("modal")||$(e.target).hasClass("modal-close"))&&closeModal($(this).attr("id"))})),$(".modal").click((function(e){($(e.target).hasClass("modal")||$(e.target).hasClass("modal-close"))&&closeModal($(this).attr("id"))})),setMoney();let CAROUSELS=[];function updateCarousel(e){const t=CAROUSELS.find((function(t){return t.name==e}));t&&t.slider.destroy()}function initCarousel(e,t=null){const o=document.querySelector(e),n=Object.assign({},o.dataset,t);for(let e in n)n.hasOwnProperty(e)&&("true"==n[e]||"false"==n[e]?n[e]="true"==n[e]||"false"==n[e]?"true"===n[e]:n[e]:n[e]=isNaN(+n[e])?n[e]:+n[e]);const s=tns(n);return CAROUSELS.push({name:n.name,slider:s,cached:{container:o,opts:n}}),s}if(window.addEventListener("load",(function(){document.querySelectorAll("[init-carousel]").forEach((function(e){setTimeout((function(){initCarousel(e.dataset.container)}),800)}))})),document.getElementById("backtop")&&document.getElementById("backtop").addEventListener("click",()=>{$(".nav-float").addClass("show")}),null==document.getElementById("formulario")){var objcss=document.getElementById("backtop");null!=objcss&&objcss.setAttribute("style","visibility: hidden; opacity: 0")}$(".float-close").click((function(e){$(".nav-float").hasClass("show")&&($(".nav-float").removeClass("show"),$("#shadow").removeClass("show"))})),document.querySelectorAll(".menu-expand").forEach(e=>{let t=e.closest(".menu-option");e.addEventListener("click",()=>{t.classList.toggle("open")})});